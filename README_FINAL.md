# 🤖 Arbitrage Bot - Final Project

## 📋 توضیحات پروژه
این یک ربات آربیتراژ ارز دیجیتال است که قیمت‌های ارزهای مختلف را از صرافی‌های مختلف مقایسه کرده و فرصت‌های سودآوری را شناسایی می‌کند.

## 🚀 ویژگی‌های اصلی

### ✅ **بهینه‌سازی‌های انجام شده:**
- **سرعت داده‌ها**: کاهش زمان به‌روزرسانی از 3+ ثانیه به کمتر از 50 میلی‌ثانیه
- **پردازش موازی**: افزایش پردازش همزمان از 5 به 10 درخواست
- **کش هوشمند**: بهینه‌سازی کش برای سرعت بیشتر
- **نظارت عملکرد**: سیستم مانیتورینگ عملکرد در زمان واقعی

### 🔧 **صرافی‌های پشتیبانی شده:**
- **MEXC** - API مستقیم
- **LBank** - API مستقیم  
- **KCEX** - Web Scraping با Puppeteer
- **Ourbit** - Web Scraping
- **XT** - Web Scraping
- **DEXScreener** - API DEX

### 💰 **ارزهای پشتیبانی شده:**
- **AIOT** - آربیتراژ بین صرافی‌ها
- **DEBT** - آربیتراژ بین صرافی‌ها
- **ALT** - آربیتراژ بین صرافی‌ها

## 📦 نصب و راه‌اندازی

### 1. **پیش‌نیازها:**
```bash
Node.js >= 18
npm >= 8
```

### 2. **نصب dependencies:**
```bash
npm install
```

### 3. **تنظیم فایل config.env:**
فایل `config.env` را ویرایش کرده و توکن‌های API و GitHub خود را وارد کنید:

```env
# توکن‌های API برای صرافی‌ها
MEXC_API_KEY=your_mexc_api_key_here
MEXC_SECRET_KEY=your_mexc_secret_key_here

LBANK_API_KEY=your_lbank_api_key_here
LBANK_SECRET_KEY=your_lbank_secret_key_here

# تنظیمات سیستم
NODE_ENV=production
PORT=8080

# GitHub Authentication Token (ضروری)
GITHUB_TOKEN=your_github_token_here
```

### 4. **اجرای پروژه:**
```bash
# اجرای عادی
npm start

# اجرای نسخه محافظت شده (obfuscated)
npm run start:protected
```

## 🔒 نسخه محافظت شده (Protected Version)

پروژه شامل نسخه محافظت شده با obfuscation است که در پوشه `dist_protected` قرار دارد:

```bash
# بیلد نسخه محافظت شده
npm run build:protect

# اجرای نسخه محافظت شده
npm run start:protected
```

## 🌐 رابط وب

پس از اجرای پروژه، رابط وب در آدرس زیر در دسترس خواهد بود:
```
http://localhost:8080
```

### ویژگی‌های رابط وب:
- **نمایش زنده قیمت‌ها** از تمام صرافی‌ها
- **فرصت‌های آربیتراژ** با درصد سود
- **نمودارهای تعاملی** برای تحلیل
- **تنظیمات زنده** بدون نیاز به restart

## 📊 مانیتورینگ و لاگ‌ها

### فایل‌های لاگ:
- `trades.log` - معاملات انجام شده
- `requests.log` - درخواست‌های API
- `session_summary.txt` - خلاصه جلسه

### متریک‌های عملکرد:
- زمان به‌روزرسانی داده‌ها
- تعداد فرصت‌های یافت شده
- نرخ موفقیت درخواست‌ها
- مصرف حافظه و CPU

## ⚙️ تنظیمات پیشرفته

### تنظیم آستانه سود:
در فایل `src/Arbitrage Logic/config/multiCurrencyConfig.js`:

```javascript
trading: {
    profitThresholdPercent: 3.1,    // حداقل سود 3.1%
    closeThresholdPercent: 2.5,     // آستانه بستن معامله
    tradeVolumeUSD: 200,            // حجم معامله
    targetTokenQuantity: 5000,      // تعداد توکن هدف
    maxTokenQuantity: 35000         // حداکثر تعداد توکن
}
```

### تنظیم فاصله زمانی:
```javascript
intervalMs: 25,                     // فاصله اصلی (25ms)
statusUpdateInterval: 1000,         // به‌روزرسانی وضعیت (1s)
```

## 🛡️ امنیت

### ویژگی‌های امنیتی:
- **GitHub Authentication** - احراز هویت اجباری قبل از اجرا
- **Obfuscation کد** برای محافظت از منطق تجاری
- **Rate Limiting** برای جلوگیری از محدودیت API
- **Error Handling** پیشرفته
- **Session Management** امن

## 📈 عملکرد

### آمار بهینه‌سازی:
- **قبل**: 3+ ثانیه برای به‌روزرسانی داده‌ها
- **بعد**: کمتر از 50 میلی‌ثانیه
- **بهبود**: 60x سریع‌تر

### قابلیت‌های جدید:
- پردازش موازی درخواست‌ها
- کش هوشمند با TTL بهینه
- سیستم مانیتورینگ عملکرد
- رابط وب تعاملی

## 🚨 نکات مهم

### قبل از استفاده:
1. **توکن GitHub** را در `config.env` تنظیم کنید (ضروری)
2. **توکن‌های API** صرافی‌ها را در `config.env` تنظیم کنید
3. **آستانه سود** را بر اساس نیاز خود تنظیم کنید
4. **محدودیت‌های صرافی** را بررسی کنید
5. **تست** در محیط sandbox انجام دهید

### هشدارها:
- این ربات برای اهداف آموزشی و تحقیقاتی است
- مسئولیت معاملات با کاربر است
- همیشه از سرمایه‌گذاری بیش از حد خودداری کنید

## 📞 پشتیبانی

برای سوالات و مشکلات:
- بررسی فایل‌های لاگ
- بررسی تنظیمات API
- تست اتصال به صرافی‌ها

## 📄 لایسنس

این پروژه برای استفاده شخصی و آموزشی است.

---

**توسعه‌دهنده**: Arbitrage Bot Team  
**نسخه**: 1.0.0  
**تاریخ**: 2025-08-26
